package com.$3_ProgranmmeExercise;

/*
    需求:
        定义方法随机产生一个5位的验证码, 每位可能是数字, 大写字母, 小写字母
    分析:
        1. 定义方法,生成验证码返回,方法参数是验证码位数, 返回值类型为String
        2. 在方法内部使用fou循环生成指定位数的随机字符, 并连接为字符串
        3. 把连接好的随机字符作为验证码返回
 */

import java.util.Random;

public class $3_ExploitValidation {
    public static void main(String[] args) {
        Random rd = new Random();
        String str = validation(50, rd);
        System.out.println("生成验证码:" + str);
        
    }
    
    public static String validation(int num, Random rd) {
        String str = "";
        for (int i = 0; i < num; i++) {
            // 生成一个随机数, 判断改为随机字符为大写英文字母/小写英文字母/数字
            int type = rd.nextInt(3);
            switch (type) {
                case 0:
                    // 生成大写英文字母 (A:65-Z:65+25)
                    char ch1 = (char) (rd.nextInt(26) + 65);
                    if (ch1 == '0') {
                        ch1 = 'A';
                    }
                    str += ch1;
                    break;
                case 1:
                    // 生成小写英文字母 (a:97, z:97 + 25 )
                    char ch2 = (char) (rd.nextInt(26) + 97);
                    if (ch2 == '0') {
                        ch2 = 'a';
                    }
                    str += ch2;
                    break;
                case 2:
                    // 生成数字
                    int ch3 = rd.nextInt(10);
                    str += ch3;
                    break;
                case 3:
                    // 生成数字
                    int ch4 = (char) rd.nextInt(54) + 10;
                    str += ch4;
                    break;
                default:
                    System.out.println("系统错误, 请稍后再试~~");
            }
        }
        return str;
    }
}
